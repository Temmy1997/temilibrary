 ## Create a cluster 
kind create cluster --name my-cluster

 ## List the available clusters
kubectl config get-contexts
## Delete cluster 
kind delete cluster --name <cluster-name>

# KIND 

Kind is a tool designed for running local Kubernetes clusters using Docker container "nodes." It's like a lightweight alternative to setting up a full-scale Kubernetes cluster for development and testing purposes. With Kind, you can quickly create a multi-node Kubernetes cluster on your local machine, each node running as a Docker container.

How to Install Kind
Kind supports all major operating systems - Linux, macOS, and Windows. Below you can find the installation steps for each OS.

INSTALLING WITH A PACKAGE MANAGER 
1. On macOS via Homebrew:
brew install kind

2. On macOS via MacPorts:
sudo port selfupdate && sudo port install kind

3. On Windows via Chocolatey (https://chocolatey.org/packages/kind)
choco install kind

INSTALLING FROM RELEASE BINARIES
1. Install Kind on Linux
    a. Use the curl command to download Kind.
    curl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.20.0/kind-linux-amd64
    
    b. Change the binary's permissions to make it executable
    chmod +x ./kind

    c. Move kind to an application directory. 
    sudo mv ./kind /usr/local/bin/kind

2. Install Kind on Mac
    a. Use the curl command to download Kind
    curl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.20.0/kind-darwin-arm64

    b. Change the binary's permissions to make it executable
    chmod +x ./kind

    c. Move kind to an application directory.
    mv ./kind /some-dir-in-your-PATH/kind

2. Install Kind on Windows
    a. Use the curl command to download Kind
    curl.exe -Lo kind-windows-amd64.exe https://kind.sigs.k8s.io/dl/v0.20.0/kind-windows-amd64

    c. Move kind to an application directory.
    Move-Item .\kind-windows-amd64.exe c:\some-dir-in-your-PATH\kind.exe

USING KIND TO CREATE A DEVELOPMENT ENVIRONMENT 
With Kind installed on the system, you can create a Kubernetes cluster and configure it according to your needs.

CREATE A CLUSTER 

kind create cluster

This command creates a cluster named "kind" by default and utilizes a pre-built Docker image to set up the control plane node.

    b. To create a cluster with a different name, use the --name option.
    kind create cluster --name=[cluster-name]
    
    c. To use a custom node image for the cluster, use the --image option:
    kind create cluster --image=[image]

INTERACTING WITH THE CLUSTER 
kubectl is used to interact with the cluster by using the configuration file generated by kind.
By default, the cluster access configuration is stored in ${HOME}/.kube/config

CREATE CLUSTER WITH WORKER NODES
By default, Kind creates the cluster with only one node, which acts as a control plane.

1. Create a YAML manifest with a text editor
nano workerNodes.yaml

2. Write the cluster configuration file. In the nodes section, define the node role for each of the nodes. 

kind: Cluster
apiVersion: kind.x-k8s.io/v1alpha4
nodes:
- role: control-plane
- role: worker

3. When creating the cluster, use the --config option to introduce the new cluster configuration:

kind create cluster --name=nodes-test --config=workerNodes.yaml

4. Confirm the cluster deployment with kubectl:

kubectl get nodes

CHECK THE CREATED CLUSTER WITH "get"
To see the list of running clusters, run the following command:

kind get clusters

* CHECK CLUSTER DETAILS 

kubectl cluster-info --context kind-[cluster-name]

* To switch to desired contexts
 kubectl config use-context kind-cluster1

* DELETING A CLUSTER 

 kubectl port-forward prometheus-prometheus-kube-prometheus-prometheus-0:9090 -n monitoring
 
kind delete cluster

* To specify the cluster you want to delete, use the --name option.

kind delete cluster --name [cluster-name]


## Creating a cluster with worker nodes 
1. Create a Kind Cluster:

Open your terminal and run the following command to create a Kubernetes cluster with a single control plane node:

kind create cluster --name my-cluster

2. Check Cluster Nodes:
To check the nodes in your cluster, run:
kubectl get nodes

NOTE: You'll see one node, which is the control plane node.

3. Add Worker Nodes:
To add worker nodes, you can edit the Kind cluster configuration. Save the following YAML to a file (e.g., kind-config.yaml):




Refrences: 
https://kind.sigs.k8s.io/docs/user/quick-start/

https://phoenixnap.com/kb/kubernetes-kind
